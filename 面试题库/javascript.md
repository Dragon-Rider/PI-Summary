- [1.JS垃圾回收机制](#1js垃圾回收机制)
- [2. 闭包的是什么](#2-闭包的是什么)
- [3. 闭包的两大作用：保存/保护](#3-闭包的两大作用保存保护)
- [4. JavaScript 数据类型有哪些？](#4-javascript-数据类型有哪些)

@import "/css/base.less"
<!--
    注释：在支持完整 markdown 的情况下，用彩色是更方便的写法。但是考虑到以后的开源情况和方便书写，将彩色的写法用 `` 取代
-->
<!--
<link type="text/css" rel="stylesheet" href="/css/base.css"></link>
-->
<!--
<style>
    .orange {
        color: orange;
        font: bold;
    }
    .red {
        color: red;
    }
</style>
-->
## 1.JS垃圾回收机制

浏览器的Javascript具有自动 <font class=orange>垃圾回收机制</font>(GC:Garbage Collecation)，垃圾收集器会定期（周期性）找出那些不在继续使用的变量，然后释放其内存。

- **标记清除**: 在js中，最常用的垃圾回收机制是标记清除：当变量进入执行环境时，被标记为“进入环境”，当变量离开执行环境时，会被标记为“离开环境”。垃圾回收器会销毁那些带标记的值并回收它们所占用的内存空间。

- **谷歌浏览器**：“查找引用”，浏览器<font class="orange">不定时</font>去查找当前内存的引用，如果没有被占用了，浏览器会回收它；如果被占用，就不能回收。

- **IE浏览器**：“引用计数法”，当前内存被占用一次，计数累加1次，移除占用就减1，减到0时，浏览器就回收它。

优化手段：内存优化 ; 手动释放：取消内存的占用即可。<font class=orange>fn = null</font>


## 2. 闭包的是什么
在 JS 中变量的作用域属于`函数作用域`， 在函数执行完后，作用域就会被清理，内存也会随之被回收。

但是由于闭包函数是建立在函数内部的子函数， 由于其可访问上级作用域，即使上级函数执行完，`作用域`也不会随之销毁， 这时的子函数(也就是闭包)，便拥有了访问上级作用域中变量的权限，即使上级函数执行完后作用域内的值也不会被销毁。

[掘金](https://juejin.cn/post/7016593221815910408)

## 3. 闭包的两大作用：保存/保护

- **保护**：划分一个独立的代码执行区域，在这个区域中有自己私有变量存储的空间，`保护`自己的`私有变量`不受外界干扰（操作自己的私有变量和外界没有关系）；

- **保存**：如果当前上下文不被释放【只要上下文中的某个东西被外部占用即可】，则存储的这些`私有变量`也不会被释放，可以供其下级上下文中调取使用，相当于把一些值`保存`起来了；

[掘金](https://juejin.cn/post/7016593221815910408)

## 4. JavaScript 数据类型有哪些？

- 基本类型：string，number，bigint，boolean，null，undefined，symbol。在栈内存中，存的值。

- 引用类型：Object，包括：Array - 数组对象、Function - 函数对象 等、RegExp - 正则对象、Date - 日期对象、Math - 数学函数；在内存中，存的引用地址。
![alt 数据类型](https://github.com/Dragon-Rider/eragon.github.io/raw/main/imgs/JavaScript%20%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B%E6%9C%89%E5%93%AA%E4%BA%9B.jpg "数据类型1")